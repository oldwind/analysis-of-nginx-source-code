### Nginx架构

Nginx采用一种常用的架构模式，微核架构，也称为"插件架构"，这种架构模式，内核比较小，业务功能和一些核心逻辑都是采用插件化实现，插件具备"可插拔"的特性. 那么插件的选择与否，在configure阶段，可以配置使用

一、微核架构简介

下图展示的是微内核架构思路，通常虚线内是普通的理解，只有一个内核，围绕这个内核，可以设计多种"可插拔"的插件，而Nginx的微内核架构有所不同，针对event模块，http模块等都是新的内核，也就是，在Nginx下面，其实存在多内核的情况，那么内核的调起，在第二部分将详细的说明





微核架构，具备较多优点
* 良好的功能延伸性（extensibility），需要什么功能，开发一个插件即可。
* 功能之间是隔离的，插件可以独立的加载和卸载，使得它比较容易部署，
* 可定制性高，适应不同的开发需要
* 可以渐进式地开发，逐步增加功能
当然，也存在一些缺点
* 扩展性（scalability）差，内核通常是一个独立单元，不容易做成分布式
* 开发难度相对较高，因为涉及到插件与内核的通信，以及内部的插件登记机制

二、Nginx架构简介

`ngx_module_t  ngx_core_module = {
    NGX_MODULE_V1,
    &ngx_core_module_ctx,                  /* module context */
    ngx_core_commands,                     /* module directives */
    NGX_CORE_MODULE,                       /* module type */
    NULL,                                  /* init master */
    NULL,                                  /* init module */
    NULL,                                  /* init process */
    NULL,                                  /* init thread */
    NULL,                                  /* exit thread */
    NULL,                                  /* exit process */
    NULL,                                  /* exit master */
    NGX_MODULE_V1_PADDING
};`



三、configure实现


